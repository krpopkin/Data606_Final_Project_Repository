#filter to columns and rows of interest
head(wages)
#write.csv(wages, 'wages_clean.csv', row.names = FALSE)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
#wages <- wages %>%
#  select(Area.Type, )
head(wages)
#write.csv(wages, 'wages_clean.csv', row.names = FALSE)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
#wages <- wages %>%
#  select(Area.Code, )
head(wages)
#write.csv(wages, 'wages_clean.csv', row.names = FALSE)
# load wages data
wages <- readxl('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.xlsx')
#libraries
library(dplyr)
library(janitor)
library(readxl)
# load wages data
wages <- readxl('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.xlsx')
# load wages data
wages <- read_xlsx('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.xlsx')
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
#wages <- wages %>%
#  select(Area.Code, )
head(wages)
#write.csv(wages, 'wages_clean.csv', row.names = FALSE)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
#wages <- wages %>%
#  select(Area.Code, )
head(wages)
write.csv(wages, 'wages_clean.csv', row.names = FALSE)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(Area.Type, ST.Name, Area, Ownership, Industry, Annual.Average.Establishment.Count,Annual.Average.Employment, Annual.Average.Pay)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
industry = Industry,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay)
head(wages)
write.csv(wages, 'wages_clean.csv', row.names = FALSE)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
industry = Industry,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay) %>%
subset(county = 'County' & ownership = 'Total Covered' & industry = '10 Total, all industries')
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
industry = Industry,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay) %>%
subset(county == 'County' & ownership == 'Total Covered' & industry == '10 Total, all industries')
head(wages)
write.csv(wages, 'wages_clean.csv', row.names = FALSE)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
industry = Industry,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay)
head(wages,1)
write.csv(wages, 'wages_clean.csv', row.names = FALSE)
subset wages %>%
subset(wages %>%
county == 'County' & ownership == 'Total Covered' & industry == '10 Total, all industries')
wages <- wages %>%
subset(county == 'County' & ownership == 'Total Covered' & industry == '10 Total, all industries')
head(wages)
wages <- wages %>%
subset(county == 'County')
head(wages)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
industry = Industry,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay)
head(wages,1)
write.csv(wages, 'wages_clean.csv', row.names = FALSE)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
industry = Industry,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay)
head(wages,1)
write.csv(wages, 'wages_clean.csv', row.names = FALSE)
wages2 <- wages %>%
subset(county == 'County')
head(wages2)
wages2 <- wages %>%
subset(type == 'County')
head(wages2)
wages2 <- wages %>%
subset(type == 'County')
dim(wages2)
wages2 <- wages %>%
subset(type == 'County' & ownership == 'Total Covered')
dim(wages2)
wages2 <- wages %>%
subset(type == 'County' & ownership == 'Total Covered')
write.csv(wages, 'wages_clean2.csv', row.names = FALSE)
dim(wages2)
wages2 <- wages %>%
subset(type == 'County' & ownership == 'Total Covered')
write.csv(wages2, 'wages_clean2.csv', row.names = FALSE)
dim(wages2)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
industry = Industry,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay) %>%
subset(type == 'County' & ownership == 'Total Covered')
dim(wages,1)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
industry = Industry,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay) %>%
subset(type == 'County' & ownership == 'Total Covered')
dim(wages)
write.csv(wages, 'wages_clean.csv', row.names = FALSE)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay) %>%
subset(type == 'County' & ownership == 'Total Covered') %>%
drop(type)
wages2 <- wages %>%
subset(type == 'County' & ownership == 'Total Covered') %>%
select(-type)
wages2 <- wages %>%
subset(type == 'County' & ownership == 'Total Covered') %>%
select(-c(type))
wages2 <- wages %>%
subset(type == 'County' & ownership == 'Total Covered')
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay) %>%
subset(type == 'County' & ownership == 'Total Covered')
dim(wages)
write.csv(wages, 'wages_clean.csv', row.names = FALSE)
wages2 <- wages %>%
select(-type)
write.csv(wages2, 'wages_clean2.csv', row.names = FALSE)
dim(wages2)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay) %>%
subset(type == 'County' & ownership == 'Total Covered') %>%
select(-type)
dim(wages)
write.csv(wages, 'wages_clean.csv', row.names = FALSE)
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
cat('Dimension of homes data:', dim(homes), '\n')
homes <- clean_names(homes)
write.csv(homes, 'homes_clean.csv', row.names = FALSE)
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
homes <- clean_names(homes)
cat('Dimension of homes data:', dim(homes), '\n')
homes <- select(county = region_name,
state, metro,
jan = x2018_01, feb = x2018_02, mar = x2018_03, apr = x2018_04, may = x2018_05, jun = x2018_06,
jul = x2018_07, aug = x2018_08, sep = x2018_09, oct = x2018_10, nov = x2018_11, dec = x2018_12)
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
homes <- clean_names(homes)
cat('Dimension of homes data:', dim(homes), '\n')
homes <- select(county = region_name, state = state, metro = metro,
jan = x2018_01, feb = x2018_02, mar = x2018_03, apr = x2018_04, may = x2018_05, jun = x2018_06,
jul = x2018_07, aug = x2018_08, sep = x2018_09, oct = x2018_10, nov = x2018_11, dec = x2018_12)
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
homes <- clean_names(homes)
cat('Dimension of homes data:', dim(homes), '\n')
#homes <- select(county = region_name, state = state, metro = metro,
#                jan = x2018_01, feb = x2018_02, mar = x2018_03, apr = x2018_04, may = x2018_05, jun = x2018_06,
#                jul = x2018_07, aug = x2018_08, sep = x2018_09, oct = x2018_10, nov = x2018_11, dec = x2018_12)
head(homes)
cat('Dimension of selected homes data:', dim(homes), '\n')
write.csv(homes, 'homes_clean.csv', row.names = FALSE)
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
homes <- clean_names(homes)
cat('Dimension of homes data:', dim(homes), '\n')
homes <-  homes %>%
select(county = region_name, state = state, metro = metro,
jan = x2018_01, feb = x2018_02, mar = x2018_03, apr = x2018_04, may = x2018_05, jun = x2018_06,
jul = x2018_07, aug = x2018_08, sep = x2018_09, oct = x2018_10, nov = x2018_11, dec = x2018_12)
cat('Dimension of selected homes data:', dim(homes), '\n')
write.csv(homes, 'homes_clean.csv', row.names = FALSE)
homes$avg_home_value = summarise_at(4:15, mean)
homes$avg_home_value = summarise_at(4:15, mean())
homes$avg_home_value = summarise_at(4:15)
homes$avg_home_value = homes %>%
summarise_at(4:15, mean)
homes$avg_home_value = homes %>%
summarise(4:15, mean)
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
homes <- clean_names(homes)
cat('Dimension of homes data:', dim(homes), '\n')
homes <-  homes %>%
select(county = region_name, state = state, metro = metro,
jan = x2018_01, feb = x2018_02, mar = x2018_03, apr = x2018_04, may = x2018_05, jun = x2018_06,
jul = x2018_07, aug = x2018_08, sep = x2018_09, oct = x2018_10, nov = x2018_11, dec = x2018_12) %>%
summarise_at(4:15, mean)
cat('Dimension of selected homes data:', dim(homes), '\n')
write.csv(homes, 'homes_clean.csv', row.names = FALSE)
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
homes <- clean_names(homes)
cat('Dimension of homes data:', dim(homes), '\n')
homes <-  homes %>%
select(county = region_name, state = state, metro = metro,
jan = x2018_01, feb = x2018_02, mar = x2018_03, apr = x2018_04, may = x2018_05, jun = x2018_06,
jul = x2018_07, aug = x2018_08, sep = x2018_09, oct = x2018_10, nov = x2018_11, dec = x2018_12) %>%
cat('Dimension of selected homes data:', dim(homes), '\n')
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
homes <- clean_names(homes)
cat('Dimension of homes data:', dim(homes), '\n')
homes <-  homes %>%
select(county = region_name, state = state, metro = metro,
jan = x2018_01, feb = x2018_02, mar = x2018_03, apr = x2018_04, may = x2018_05, jun = x2018_06,
jul = x2018_07, aug = x2018_08, sep = x2018_09, oct = x2018_10, nov = x2018_11, dec = x2018_12) %>%
cat('Dimension of selected homes data:', dim(homes))
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
homes <- clean_names(homes)
cat('Dimension of homes data:', dim(homes), '\n')
homes <-  homes %>%
select(county = region_name, state = state, metro = metro,
jan = x2018_01, feb = x2018_02, mar = x2018_03, apr = x2018_04, may = x2018_05, jun = x2018_06,
jul = x2018_07, aug = x2018_08, sep = x2018_09, oct = x2018_10, nov = x2018_11, dec = x2018_12)
cat('Dimension of selected homes data:', dim(homes))
write.csv(homes, 'homes_clean.csv', row.names = FALSE)
homes$avg_home_value = rowsum(4:15)
homes$avg_home_value = rowSums(4:15)
homes$avg_home_value = rowSums(cbind(homes$jan homes$feb)
homes$avg_home_value = rowSums(cbind(homes$jan homes$feb))
homes$avg_home_value = homes$jan + homes$feb
head(homes)
homes$avg_home_value = sum(homes$jan,homes$feb)
head(homes)
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
homes <- clean_names(homes)
cat('Dimension of homes data:', dim(homes), '\n')
homes <-  homes %>%
select(county = region_name, state = state, metro = metro,
jan = x2018_01, feb = x2018_02, mar = x2018_03, apr = x2018_04, may = x2018_05, jun = x2018_06,
jul = x2018_07, aug = x2018_08, sep = x2018_09, oct = x2018_10, nov = x2018_11, dec = x2018_12)
cat('Dimension of selected homes data:', dim(homes))
write.csv(homes, 'homes_clean.csv', row.names = FALSE)
junk = homes
junk$avg_home_value = sum(junk$jan:junk$dec)
head(junk)
junk = homes
junk$avg_home_value = sum(junk$jan:junk$dec)/12
head(junk)
junk = homes
junk$avg_home_value = (sum(homes(c(4:15))/12
head(junk)
junk = homes
junk$avg_home_value = (sum(homes(c(4:15))
head(junk)
junk = homes
junk$avg_home_value = sum(homes(c(4:15)
junk = homes
junk$avg_home_value = sum(homes[4:15])
junk = homes
junk$avg_home_value = sum(homes[4:15])
head(junk)
junk = homes
junk$avg_home_value = (sum(homes[4:15]))/12
head(junk)
junk = homes
junk$avg_home_value = (sum(homes[4:6]))
head(junk)
junk = homes
junk$avg_home_value = home$jan + home$feb + home$mar
junk = homes
junk$avg_home_value = junk$jan + junk$feb + junk$mar
head(junk)
junk = homes
junk$avg_home_value = (junk$jan + junk$feb + junk$mar)/3
head(junk)
junk = homes
junk$avg_home_value = mean(junk$jan + junk$feb + junk$mar)
head(junk)
junk = homes
#junk$avg_home_value = sum(home$jan + junk$feb + junk$mar )
junk$avg_home_value <- junk %>%
mutate(sum = rowSums(.[4:6]))
head(junk)
junk = homes
#junk$avg_home_value = sum(home$jan + junk$feb + junk$mar )
junk$avg_home_value <- junk %>%
mutate(rowSums(.[4:6]))
head(junk)
junk = homes
#junk$avg_home_value = sum(home$jan + junk$feb + junk$mar )
junk$avg_home_value <- mutate(junk, rowSums(.[4:6]))
junk = homes
junk$avg_home_value = sum(home$jan + junk$feb + junk$mar)
junk = homes
junk$avg_home_value = sum(homes$jan + homes$feb + homes$mar)
head(junk)
junk = homes
junk$avg_home_value = homes$jan + homes$feb + homes$mar
head(junk)
junk = homes
junk$avg_home_value = (homes$jan + homes$feb + homes$mar)/3
head(junk)
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
homes <- clean_names(homes)
cat('Dimension of homes data:', dim(homes), '\n')
homes <-  homes %>%
select(county = region_name, state = state, metro = metro,
jan = x2018_01, feb = x2018_02, mar = x2018_03, apr = x2018_04, may = x2018_05, jun = x2018_06,
jul = x2018_07, aug = x2018_08, sep = x2018_09, oct = x2018_10, nov = x2018_11, dec = x2018_12)
homes$avg_home_value = (homes$jan + homes$feb + homes$mar + homes$apr + homes$may + homes$jun + homes$jul + homes$aug + homes$sep + homes$oct + homes$nov + homes$dec)/12
cat('Dimension of selected homes data:', dim(homes))
write.csv(homes, 'homes_clean.csv', row.names = FALSE)
# load education data
education <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/Education(Graduation_Rates).csv')
cat('Dimension of raw data', dim(education),"\n")
#identify columns of interest and rename
education <- clean_names(education)
education <- select(education,
state,
county = area_name,
dropout = less_than_a_high_school_diploma_2014_18,
hs_diploma = high_school_diploma_only_2014_18,
some_college = some_college_or_associate_s_degree_2014_18,
four_year_degree = bachelor_s_degree_or_higher_2014_18,
dropout_percent = percent_of_adults_with_less_than_a_high_school_diploma_2014_18,
hs_diploma_percent = percent_of_adults_with_a_high_school_diploma_only_2014_18,
some_college_percent = percent_of_adults_completing_some_college_or_associate_s_degree_2014_18,
four_year_degree_percent = percent_of_adults_with_a_bachelor_s_degree_or_higher_2014_18)
cat('Dimension of selected data', dim(education), "\n")
#remove rows that are missing education data
education <- subset(education, dropout != '')
cat('Dimension of data after nulls removed', dim(education))
head(education,1)
path_out = 'C:\Users\user\Documents\00_Applications_DataScience\CUNY\DATA606\Data606_Final_Project_Repository\01Data'
head(education,1)
path_out = 'C:\\Users\user\Documents\00_Applications_DataScience\CUNY\DATA606\Data606_Final_Project_Repository\01Data'
head(education,1)
path_out = 'C:\\Users\\user\\Documents\\00_Applications_DataScience\\CUNY\\DATA606\\Data606_Final_Project_Repository\\01Data'
write.csv(education, 'clean_education.csv', row.names = FALSE)
head(education,1)
path_out = 'C:\\Users\\user\\Documents\\00_Applications_DataScience\\CUNY\\DATA606\\Data606_Final_Project_Repository\\01Data'
write.csv(education, paste(path_out, 'clean_education.csv'), row.names = FALSE)
head(education,1)
path_out = 'C:\\Users\\user\\Documents\\00_Applications_DataScience\\CUNY\\DATA606\\Data606_Final_Project_Repository\\01Data\\'
write.csv(education, paste(path_out, 'clean_education.csv'), row.names = FALSE)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(message = FALSE)
knitr::opts_chunk$set(warning = FALSE)
#libraries
library(dplyr)
library(janitor)
# load education data
education <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/Education(Graduation_Rates).csv')
cat('Dimension of raw data', dim(education),"\n")
#identify columns of interest and rename
education <- clean_names(education)
education <- select(education,
state,
county = area_name,
dropout = less_than_a_high_school_diploma_2014_18,
hs_diploma = high_school_diploma_only_2014_18,
some_college = some_college_or_associate_s_degree_2014_18,
four_year_degree = bachelor_s_degree_or_higher_2014_18,
dropout_percent = percent_of_adults_with_less_than_a_high_school_diploma_2014_18,
hs_diploma_percent = percent_of_adults_with_a_high_school_diploma_only_2014_18,
some_college_percent = percent_of_adults_completing_some_college_or_associate_s_degree_2014_18,
four_year_degree_percent = percent_of_adults_with_a_bachelor_s_degree_or_higher_2014_18)
cat('Dimension of selected data', dim(education), "\n")
#remove rows that are missing education data
education <- subset(education, dropout != '')
cat('Dimension of data after nulls removed', dim(education))
head(education,1)
path_out = 'C:\\Users\\user\\Documents\\00_Applications_DataScience\\CUNY\\DATA606\\Data606_Final_Project_Repository\\01Data\\'
write.csv(education, paste(path_out, 'clean_education.csv'), row.names = FALSE)
# load wages data
wages <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/allhlcn18.csv')
cat('Dimension of raw wage data:', dim(wages), '\n')
#filter to columns and rows of interest
wages <- wages %>%
select(type = Area.Type,
state = St.Name,
county = Area,
ownership = Ownership,
resident_count = Annual.Average.Establishment.Count,
avg_annual_pay = Annual.Average.Pay) %>%
subset(type == 'County' & ownership == 'Total Covered') %>%
select(-type)
cat('Dimension of data after filtering', dim(wages))
head(wages,1)
write.csv(wages, paste(path_out, 'clean_wages.csv'), row.names = FALSE)
#load home values data
homes <- read.csv('https://raw.githubusercontent.com/krpopkin/Data606_Final_Project_Repository/master/01Data/County_Zhvi_AllHomes(Home_Values).csv')
homes <- clean_names(homes)
cat('Dimension of homes data:', dim(homes), '\n')
homes <-  homes %>%
select(county = region_name, state = state, metro = metro,
jan = x2018_01, feb = x2018_02, mar = x2018_03, apr = x2018_04, may = x2018_05, jun = x2018_06,
jul = x2018_07, aug = x2018_08, sep = x2018_09, oct = x2018_10, nov = x2018_11, dec = x2018_12)
homes$avg_home_value = (homes$jan + homes$feb + homes$mar + homes$apr + homes$may + homes$jun + homes$jul + homes$aug + homes$sep + homes$oct + homes$nov + homes$dec)/12
cat('Dimension of selected homes data:', dim(homes))
head(homes,1)
write.csv(homes, paste(path_out, 'clean_homes.csv'), row.names = FALSE)
